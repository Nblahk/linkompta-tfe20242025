@startuml Linkompta_Workflow_Principal
!theme plain
title Workflow Principal - Linkompta\nGestion documentaire et facturation

' Acteurs
actor "üë§ Client" as Client
actor "üë®‚Äçüíº Comptable" as Comptable

' Syst√®mes externes
participant "üíæ Syst√®me de fichiers" as FileSystem
participant "üìß Syst√®me de notification" as NotifSystem

' Cas d'usage principal : Gestion d'un document
group Gestion documentaire
  Client -> FileSystem : T√©l√©charge document
  activate FileSystem
  FileSystem -> Client : Confirmation upload
  deactivate FileSystem
  
  Client -> NotifSystem : Notifie comptable
  activate NotifSystem
  NotifSystem -> Comptable : Nouveau document re√ßu
  deactivate NotifSystem
  
  Comptable -> FileSystem : Consulte document
  activate FileSystem
  FileSystem -> Comptable : Affiche document
  deactivate FileSystem
  
  Comptable -> Client : Met √† jour statut
  Note over Comptable : Statuts possibles:\n- Envoy√©\n- Re√ßu\n- En cours\n- Trait√©
end

' Cas d'usage principal : Facturation
group Gestion facturation
  Comptable -> Client : Cr√©e facture
  Note over Comptable : Calcul automatique:\n- Montant HTVA\n- TVA (21%)\n- Montant TVAC
  
  Client -> Comptable : Consulte facture
  Note over Client : Statuts facture:\n- En attente\n- Pay√©e\n- Annul√©e
end

' Cas d'usage principal : Rendez-vous
group Gestion rendez-vous
  Client -> Comptable : Demande RDV
  Note over Client : Motif et date propos√©e
  
  Comptable -> Client : Accepte/Refuse
  Note over Comptable : Statuts RDV:\n- En attente\n- Accept√©\n- Refus√©\n- Termin√©
end

' Messagerie
group Messagerie interne
  Client <-> Comptable : √âchange messages
  Note over Client, Comptable : Communication bidirectionnelle\ns√©curis√©e
end

@enduml
